/* Premium Pecunia Animations - Elegant & Sophisticated */

/* =============================================== */
/* Enhanced Animation Philosophy                   */
/* =============================================== */
/* 1. Whisper, Don't Shout: Barely noticeable     */
/* 2. Purpose-Driven: Every animation has meaning */
/* 3. Physics-Based: Natural, elastic motion      */
/* 4. Layered Depth: Subtle 3D and shadow effects*/
/* 5. Premium Feel: Polished micro-interactions   */
/* 6. Performance First: GPU-accelerated smooth   */
/* =============================================== */

/* Advanced Physics-Based Easing Curves */
:root {
  /* Existing refined curves */
  --ease-whisper: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --ease-breath: cubic-bezier(0.4, 0.0, 0.2, 1);
  --ease-gentle: cubic-bezier(0.165, 0.84, 0.44, 1);
  --ease-silk: cubic-bezier(0.23, 1, 0.32, 1);
  
  /* New premium physics-based curves */
  --ease-elastic-subtle: cubic-bezier(0.68, -0.3, 0.265, 1.25);
  --ease-back-gentle: cubic-bezier(0.68, -0.15, 0.265, 1.15);
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  --ease-smooth: cubic-bezier(0.4, 0.0, 0.6, 1);
  --ease-premium: cubic-bezier(0.25, 0.1, 0.25, 1);
  --ease-float: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  
  /* Depth and shadow variables */
  --shadow-whisper: 0 1px 3px rgba(0, 0, 0, 0.02), 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-gentle: 0 2px 4px rgba(0, 0, 0, 0.03), 0 2px 8px rgba(0, 0, 0, 0.06);
  --shadow-elevated: 0 4px 6px rgba(0, 0, 0, 0.04), 0 10px 15px rgba(0, 0, 0, 0.08);
  --shadow-floating: 0 8px 25px rgba(0, 0, 0, 0.06), 0 16px 32px rgba(0, 0, 0, 0.08);
  
  /* Glow effects */
  --glow-primary: 0 0 20px rgba(89, 69, 163, 0.08);
  --glow-secondary: 0 0 15px rgba(179, 126, 145, 0.06);
  --glow-success: 0 0 12px rgba(34, 197, 94, 0.08);
  --glow-warm: 0 0 16px rgba(251, 191, 36, 0.08);
}

/* =============================================== */
/* Subtle Entrance Animations                      */
/* =============================================== */

/* =============================================== */
/* Enhanced Entrance Animations                   */
/* =============================================== */

@keyframes fadeInPremium {
  from {
    opacity: 0;
    transform: translate3d(0, 6px, 0) scale3d(0.99, 0.99, 1);
    filter: blur(0.5px);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
    filter: blur(0px);
  }
}

@keyframes slideInElastic {
  from {
    opacity: 0;
    transform: translate3d(-10px, 0, 0) scale3d(0.98, 0.98, 1);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
  }
}

@keyframes scaleInSpring {
  from {
    opacity: 0;
    transform: scale3d(0.96, 0.96, 1) rotateX(2deg);
  }
  to {
    opacity: 1;
    transform: scale3d(1, 1, 1) rotateX(0deg);
  }
}

@keyframes floatIn {
  from {
    opacity: 0;
    transform: translate3d(0, 8px, 0) rotateX(3deg) scale3d(0.98, 0.98, 1);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0) rotateX(0deg) scale3d(1, 1, 1);
  }
}

@keyframes numberCountUp {
  from {
    opacity: 0;
    transform: translate3d(0, 3px, 0) scale3d(0.95, 0.95, 1);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
  }
}

/* Ambient background animations */
@keyframes gentleFloat {
  0%, 100% { transform: translate3d(0, 0px, 0); }
  50% { transform: translate3d(0, -2px, 0); }
}

@keyframes subtlePulse {
  0%, 100% { opacity: 1; transform: scale3d(1, 1, 1); }
  50% { opacity: 0.96; transform: scale3d(1.002, 1.002, 1); }
}

/* =============================================== */
/* Premium Animation Classes                      */
/* =============================================== */

.animate-whisper {
  animation: fadeInPremium 0.7s var(--ease-whisper) both;
}

.animate-silk {
  animation: slideInElastic 0.6s var(--ease-silk) both;
}

.animate-breath {
  animation: scaleInSpring 0.5s var(--ease-spring) both;
}

.animate-flow {
  animation: numberCountUp 0.6s var(--ease-premium) both;
}

.animate-float {
  animation: floatIn 0.8s var(--ease-float) both;
}

.animate-entrance {
  animation: fadeInPremium 0.8s var(--ease-gentle) both;
}

.animate-entrance-elastic {
  animation: slideInElastic 0.7s var(--ease-elastic-subtle) both;
}

.animate-entrance-spring {
  animation: scaleInSpring 0.6s var(--ease-spring) both;
}

/* Enhanced staggered delays with physics */
.animate-delay-whisper-1 { animation-delay: 0.02s; }
.animate-delay-whisper-2 { animation-delay: 0.04s; }
.animate-delay-whisper-3 { animation-delay: 0.06s; }
.animate-delay-whisper-4 { animation-delay: 0.08s; }
.animate-delay-whisper-5 { animation-delay: 0.10s; }
.animate-delay-whisper-6 { animation-delay: 0.12s; }
.animate-delay-whisper-7 { animation-delay: 0.14s; }
.animate-delay-whisper-8 { animation-delay: 0.16s; }

/* Ambient effects */
.animate-ambient-float {
  animation: gentleFloat 6s var(--ease-float) infinite;
}

.animate-ambient-pulse {
  animation: subtlePulse 4s var(--ease-gentle) infinite;
}

/* =============================================== */
/* Premium Hover States & Micro-Interactions     */
/* =============================================== */

.hover-whisper {
  transition: all 0.3s var(--ease-premium);
  will-change: transform, box-shadow;
}

.hover-whisper:hover {
  transform: translate3d(0, -1px, 0);
  box-shadow: var(--shadow-whisper);
}

.hover-breath {
  transition: all 0.35s var(--ease-back-gentle);
  will-change: transform, box-shadow;
}

.hover-breath:hover {
  transform: scale3d(1.008, 1.008, 1) translate3d(0, -0.5px, 0);
  box-shadow: var(--shadow-gentle);
}

.hover-silk {
  transition: all 0.3s var(--ease-silk);
  will-change: transform, box-shadow, filter;
}

.hover-silk:hover {
  transform: translate3d(0, -1px, 0);
  box-shadow: var(--shadow-elevated);
  filter: brightness(1.02);
}

.hover-float {
  transition: all 0.4s var(--ease-float);
  will-change: transform, box-shadow;
}

.hover-float:hover {
  transform: translate3d(0, -2px, 0) scale3d(1.005, 1.005, 1);
  box-shadow: var(--shadow-floating);
}

.hover-glow-subtle {
  transition: all 0.4s var(--ease-gentle);
  will-change: box-shadow, filter;
}

.hover-glow-subtle:hover {
  box-shadow: var(--glow-primary);
  filter: brightness(1.01);
}

.hover-glow-warm {
  transition: all 0.4s var(--ease-gentle);
  will-change: box-shadow, filter;
}

.hover-glow-warm:hover {
  box-shadow: var(--glow-warm);
  filter: brightness(1.02);
}

.hover-scale-subtle {
  transition: transform 0.25s var(--ease-back-gentle);
  will-change: transform;
}

.hover-scale-subtle:hover {
  transform: scale3d(1.03, 1.03, 1);
}

.hover-lift-premium {
  transition: all 0.3s var(--ease-premium);
  will-change: transform, box-shadow;
}

.hover-lift-premium:hover {
  transform: translate3d(0, -3px, 0) scale3d(1.01, 1.01, 1);
  box-shadow: var(--shadow-floating);
}

/* =============================================== */
/* Premium Button Interactions                    */
/* =============================================== */

.btn-whisper {
  position: relative;
  overflow: hidden;
  transition: all 0.3s var(--ease-premium);
  will-change: transform, box-shadow, background-color;
}

.btn-whisper::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255, 255, 255, 0.08), 
    transparent
  );
  transition: left 0.7s var(--ease-silk);
}

.btn-whisper:hover {
  transform: translate3d(0, -1px, 0);
  box-shadow: var(--shadow-gentle);
}

.btn-whisper:hover::before {
  left: 100%;
}

.btn-whisper:active {
  transform: translate3d(0, 0, 0) scale3d(0.98, 0.98, 1);
  transition: all 0.1s var(--ease-smooth);
}

.btn-premium {
  position: relative;
  overflow: hidden;
  transition: all 0.3s var(--ease-premium);
  will-change: transform, box-shadow, background-color;
}

.btn-premium::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, 
    transparent, 
    rgba(255, 255, 255, 0.1), 
    transparent
  );
  transition: left 0.8s var(--ease-silk);
}

.btn-premium:hover {
  transform: translate3d(0, -1px, 0) scale3d(1.02, 1.02, 1);
  box-shadow: var(--shadow-elevated);
}

.btn-premium:hover::before {
  left: 100%;
}

.btn-premium:active {
  transform: translate3d(0, 0, 0) scale3d(0.97, 0.97, 1);
  transition: all 0.1s var(--ease-smooth);
}

.btn-whisper:focus-visible,
.btn-premium:focus-visible {
  outline: 1px solid rgba(89, 69, 163, 0.4);
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(89, 69, 163, 0.08);
}

/* =============================================== */
/* Premium Card Interactions                      */
/* =============================================== */

.card-whisper {
  position: relative;
  transition: all 0.3s var(--ease-premium);
  will-change: transform, box-shadow;
}

.card-whisper::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.03), 
    rgba(255, 255, 255, 0.01)
  );
  opacity: 0;
  transition: opacity 0.3s var(--ease-premium);
  pointer-events: none;
  border-radius: inherit;
}

.card-whisper:hover {
  transform: translate3d(0, -2px, 0);
  box-shadow: var(--shadow-elevated);
}

.card-whisper:hover::before {
  opacity: 1;
}

.card-breath {
  transition: all 0.35s var(--ease-back-gentle);
  will-change: transform, box-shadow;
}

.card-breath:hover {
  transform: translate3d(0, -1px, 0) scale3d(1.005, 1.005, 1);
  box-shadow: var(--shadow-gentle);
}

.card-premium {
  position: relative;
  transition: all 0.4s var(--ease-premium);
  will-change: transform, box-shadow, filter;
}

.card-premium::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, 
    rgba(89, 69, 163, 0.02), 
    rgba(179, 126, 145, 0.01)
  );
  opacity: 0;
  transition: opacity 0.4s var(--ease-premium);
  pointer-events: none;
  border-radius: inherit;
}

.card-premium:hover {
  transform: translate3d(0, -3px, 0) scale3d(1.008, 1.008, 1);
  box-shadow: var(--shadow-floating);
  filter: brightness(1.01);
}

.card-premium:hover::before {
  opacity: 1;
}

.card-float {
  transition: all 0.4s var(--ease-float);
  will-change: transform, box-shadow;
}

.card-float:hover {
  transform: translate3d(0, -4px, 0) scale3d(1.01, 1.01, 1);
  box-shadow: var(--shadow-floating);
}

/* =============================================== */
/* Navigation Enhancements                         */
/* =============================================== */

/* Enhanced Navigation */
.nav-whisper {
  position: relative;
  transition: all 0.3s var(--ease-premium);
  will-change: color, transform;
}

.nav-whisper::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -2px;
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, 
    #5945a3, 
    #b37e91, 
    #5945a3
  );
  background-size: 200% 100%;
  transition: width 0.5s var(--ease-spring);
  animation: navShine 2s linear infinite;
}

@keyframes navShine {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.nav-whisper.active::after,
.nav-whisper:hover::after {
  width: 100%;
}

.nav-whisper:hover {
  transform: translate3d(0, -1px, 0);
  color: #5945a3;
}

.tab-whisper {
  transition: all 0.3s var(--ease-premium);
  position: relative;
  will-change: color, background-color, transform;
}

.tab-whisper:hover {
  color: #5945a3;
  transform: translate3d(0, -1px, 0);
}

.tab-whisper.active {
  background: linear-gradient(135deg, 
    rgba(89, 69, 163, 0.06), 
    rgba(179, 126, 145, 0.04)
  );
  box-shadow: var(--shadow-whisper);
}

/* =============================================== */
/* Enhanced Progress & Loading Animations         */
/* =============================================== */

.progress-silk {
  position: relative;
  overflow: hidden;
  background: linear-gradient(90deg, 
    rgba(89, 69, 163, 0.06), 
    rgba(179, 126, 145, 0.04)
  );
  border-radius: 8px;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
}

.progress-bar-silk {
  height: 100%;
  background: linear-gradient(90deg, 
    #5945a3, 
    #b37e91, 
    #5945a3
  );
  background-size: 200% 100%;
  border-radius: 8px;
  transition: width 1.5s var(--ease-spring);
  position: relative;
  animation: progressShine 3s linear infinite;
}

@keyframes progressShine {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.progress-bar-silk::after {
  content: '';
  position: absolute;
  top: 0;
  left: -60%;
  width: 60%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255, 255, 255, 0.3), 
    transparent
  );
  animation: progressFlow 2.5s var(--ease-silk) infinite;
}

@keyframes progressFlow {
  0% { left: -60%; opacity: 0; }
  30% { opacity: 1; }
  70% { opacity: 1; }
  100% { left: 100%; opacity: 0; }
}

.loading-silk {
  background: linear-gradient(90deg, 
    rgba(248, 249, 250, 0.9) 0%, 
    rgba(233, 236, 239, 0.95) 25%,
    rgba(255, 255, 255, 0.9) 50%,
    rgba(233, 236, 239, 0.95) 75%,
    rgba(248, 249, 250, 0.9) 100%
  );
  background-size: 300% 100%;
  animation: shimmerPremium 2.5s ease-in-out infinite;
  border-radius: 6px;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.03);
}

@keyframes shimmerPremium {
  0% { background-position: 300% 0; }
  100% { background-position: -300% 0; }
}

.loading-premium {
  background: linear-gradient(135deg, 
    rgba(89, 69, 163, 0.08) 0%, 
    rgba(179, 126, 145, 0.12) 25%,
    rgba(255, 255, 255, 0.15) 50%,
    rgba(179, 126, 145, 0.12) 75%,
    rgba(89, 69, 163, 0.08) 100%
  );
  background-size: 400% 400%;
  animation: shimmerGradient 3s ease-in-out infinite;
  border-radius: 8px;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.04);
}

@keyframes shimmerGradient {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* =============================================== */
/* Enhanced Interactive Elements                  */
/* =============================================== */

.icon-whisper {
  transition: all 0.25s var(--ease-back-gentle);
  will-change: transform, filter;
}

.icon-whisper:hover {
  transform: scale3d(1.1, 1.1, 1);
  filter: brightness(1.15) drop-shadow(0 0 4px rgba(89, 69, 163, 0.2));
}

.icon-premium {
  transition: all 0.3s var(--ease-spring);
  will-change: transform, filter;
}

.icon-premium:hover {
  transform: scale3d(1.12, 1.12, 1) rotate(2deg);
  filter: brightness(1.2) drop-shadow(0 0 6px rgba(89, 69, 163, 0.3));
}

.input-whisper {
  transition: all 0.3s var(--ease-premium);
  will-change: transform, box-shadow, border-color;
}

.input-whisper:focus {
  transform: translate3d(0, -1px, 0);
  box-shadow: var(--shadow-gentle), var(--glow-primary);
  border-color: rgba(89, 69, 163, 0.3);
}

.badge-breath {
  transition: all 0.25s var(--ease-back-gentle);
  will-change: transform, filter;
}

.badge-breath:hover {
  transform: scale3d(1.05, 1.05, 1);
  filter: brightness(1.08) saturate(1.1);
}

.badge-premium {
  transition: all 0.3s var(--ease-spring);
  will-change: transform, filter, box-shadow;
}

.badge-premium:hover {
  transform: scale3d(1.08, 1.08, 1);
  filter: brightness(1.1) saturate(1.15);
  box-shadow: var(--shadow-gentle);
}

/* Focus states */
.focus-whisper:focus-visible {
  outline: 1px solid rgba(89, 69, 163, 0.4);
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(89, 69, 163, 0.08);
}

.focus-premium:focus-visible {
  outline: 2px solid rgba(89, 69, 163, 0.5);
  outline-offset: 3px;
  box-shadow: 0 0 0 4px rgba(89, 69, 163, 0.1);
}

/* =============================================== */
/* Premium Component Animations                   */
/* =============================================== */

.score-whisper {
  transition: all 0.4s var(--ease-premium);
  will-change: transform, filter, box-shadow;
}

.score-whisper:hover {
  transform: scale3d(1.03, 1.03, 1);
  filter: drop-shadow(0 6px 12px rgba(89, 69, 163, 0.15));
  box-shadow: var(--glow-primary);
}

.chart-whisper {
  transition: all 0.3s var(--ease-premium);
  will-change: transform, filter;
}

.chart-whisper:hover {
  transform: scale3d(1.01, 1.01, 1);
  filter: brightness(1.03) saturate(1.05);
}

.chart-premium {
  transition: all 0.4s var(--ease-spring);
  will-change: transform, filter, box-shadow;
}

.chart-premium:hover {
  transform: scale3d(1.02, 1.02, 1);
  filter: brightness(1.05) saturate(1.1);
  box-shadow: var(--shadow-gentle);
}

/* =============================================== */
/* Premium Modal & Dialog Animations             */
/* =============================================== */

.modal-breath {
  animation: fadeInPremium 0.4s var(--ease-spring) both;
}

.modal-content-breath {
  animation: scaleInSpring 0.5s var(--ease-spring) both;
}

.modal-premium {
  animation: fadeInPremium 0.5s var(--ease-premium) both;
}

.modal-content-premium {
  animation: floatIn 0.6s var(--ease-spring) both;
}

/* =============================================== */
/* Enhanced AI & Chat Animations                  */
/* =============================================== */

.ai-message-flow {
  opacity: 0;
  transform: translate3d(0, 4px, 0) scale3d(0.98, 0.98, 1);
}

.ai-message-flow.animate-in {
  animation: fadeInPremium 0.6s var(--ease-spring) both;
}

.typing-breath {
  animation: breatheGentle 3.5s ease-in-out infinite;
}

@keyframes breatheGentle {
  0%, 100% { 
    opacity: 0.5; 
    transform: scale3d(1, 1, 1); 
  }
  50% { 
    opacity: 0.9; 
    transform: scale3d(1.02, 1.02, 1); 
  }
}

.ai-thinking {
  animation: aiThinking 2s var(--ease-gentle) infinite;
}

@keyframes aiThinking {
  0%, 100% { 
    opacity: 0.4; 
    transform: scale3d(1, 1, 1); 
  }
  33% { 
    opacity: 0.8; 
    transform: scale3d(1.01, 1.01, 1); 
  }
  66% { 
    opacity: 0.6; 
    transform: scale3d(1.005, 1.005, 1); 
  }
}

/* =============================================== */
/* Enhanced Notification States                   */
/* =============================================== */

.success-whisper {
  animation: scaleInSpring 0.5s var(--ease-spring) both;
}

.success-premium {
  animation: floatIn 0.6s var(--ease-spring) both;
}

.notification-silk {
  animation: slideInElastic 0.6s var(--ease-spring) both;
}

.notification-premium {
  animation: fadeInPremium 0.7s var(--ease-premium) both;
}

.alert-premium {
  animation: fadeInPremium 0.4s var(--ease-spring) both;
}

.toast-premium {
  animation: slideInElastic 0.5s var(--ease-spring) both;
}

/* =============================================== */
/* Grid & Layout Animations                        */
/* =============================================== */

.grid-whisper > * {
  opacity: 0;
  transform: translate3d(0, 8px, 0);
  animation: fadeInSoft 0.6s var(--ease-whisper) both;
}

.grid-whisper > *:nth-child(1) { animation-delay: 0.02s; }
.grid-whisper > *:nth-child(2) { animation-delay: 0.04s; }
.grid-whisper > *:nth-child(3) { animation-delay: 0.06s; }
.grid-whisper > *:nth-child(4) { animation-delay: 0.08s; }
.grid-whisper > *:nth-child(5) { animation-delay: 0.10s; }
.grid-whisper > *:nth-child(6) { animation-delay: 0.12s; }

/* =============================================== */
/* Accessibility & Performance Optimizations      */
/* =============================================== */

/* Respect user preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .hover-whisper:hover,
  .hover-breath:hover,
  .hover-silk:hover,
  .card-whisper:hover,
  .card-breath:hover {
    transform: none;
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .hover-whisper:hover,
  .hover-breath:hover,
  .hover-silk:hover,
  .hover-glow-subtle:hover,
  .card-whisper:hover,
  .card-breath:hover {
    transform: none;
    box-shadow: none;
    filter: none;
  }
}

/* Focus indicators for keyboard navigation */
.focus-whisper:focus-visible {
  outline: 1px solid rgba(89, 69, 163, 0.4);
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(89, 69, 163, 0.08);
}

/* GPU acceleration for smooth animations */
.animate-whisper,
.animate-silk,
.animate-breath,
.animate-flow,
.hover-whisper,
.hover-breath,
.hover-silk,
.card-whisper,
.card-breath,
.btn-whisper {
  backface-visibility: hidden;
  perspective: 1000px;
  transform-style: preserve-3d;
}